"use strict";var _deepmerge=_interopRequireDefault(require("deepmerge"));require("core-js/modules/es.reflect.has"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}process.traceDeprecation=!0;var WebpackExtensionManifestPlugin=/*#__PURE__*/function(){function WebpackExtensionManifestPlugin(options){_classCallCheck(this,WebpackExtensionManifestPlugin),this.options=options}return _createClass(WebpackExtensionManifestPlugin,[{key:"apply",value:function apply(compiler){var _this=this;compiler.hooks.emit.tap("WebpackExtensionManifestPlugin",function(compilation){if("object"!=typeof _this.options)throw new TypeError("options it should be `object`.");if(Reflect.has(_this.options,"config")&&"object"!=typeof _this.options.config)throw new Error("config it should be `object`.");var json="";Reflect.has(_this.options.config,"base")&&(json=(0,_deepmerge.default)(_this.options.config.base,_this.options.config.extend||{})),Reflect.has(_this.options.config,"base")||(json=_this.options.config||{});var jsonString=JSON.stringify(json,null,2);return compilation.assets["manifest.json"]={source:function source(){return jsonString},size:function size(){return jsonString.length}},!0})}}]),WebpackExtensionManifestPlugin}();exports.default=WebpackExtensionManifestPlugin,module.exports=exports.default;